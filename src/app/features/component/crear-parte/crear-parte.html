<div class="max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg mt-10">
  <h2 class="text-2xl font-bold text-center mb-6 text-indigo-700">
    Crear Nuevo Parte de Incidencia
  </h2>

  <form [formGroup]="parteForm" (ngSubmit)="onSubmit()" class="space-y-6">

    <!-- Fechas -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Fecha de apertura del parte *</label>
        <input type="date" formControlName="fechaApertura"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Fecha de cierre del parte</label>
        <input type="date" formControlName="fechaCierre"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      </div>
    </div>

    <!-- Cliente y dirección -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Nombre del cliente *</label>
        <input type="text" formControlName="nombreCliente" placeholder="Ej: Comunidad de Propietarios Sol"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Dirección del edificio *</label>
        <input type="text" formControlName="direccionEdificio" placeholder="C/ Mayor, 12, Colmenar Viejo"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      </div>
    </div>

    <!-- Ubicación y contacto -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Ubicación concreta del incidente *</label>
        <input type="text" formControlName="ubicacionIncidencia" placeholder="Portal 2, 3º B"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Contacto persona que reporta *</label>
        <input type="tel" formControlName="contactoReporta" placeholder="612345678"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      </div>
    </div>

    <!-- Prioridad y técnico -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Prioridad de la reparación *</label>
        <select formControlName="prioridad"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
          <option *ngFor="let p of prioridades" [value]="p">{{ p }}</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Técnico asignado</label>
        <select formControlName="tecnicoAsignado"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
          <option *ngFor="let t of tecnicos" [value]="t">{{ t }}</option>
        </select>
      </div>
    </div>

    <!-- Descripción breve -->
    <div>
      <label class="block text-sm font-medium text-gray-700">
        Descripción breve (máx. 100 caracteres) *
      </label>
      <input type="text" formControlName="descripcionBreve" maxlength="100"
             placeholder="Ej: Fuga de agua en cuarto de contadores"
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      <p class="text-xs text-gray-500 mt-1">
        {{ parteForm.get('descripcionBreve')?.value?.length || 0 }}/100
      </p>
    </div>

    <!-- Descripción completa -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Descripción completa de la incidencia</label>
      <textarea formControlName="descripcionCompleta" rows="4"
                placeholder="Detalles adicionales..."
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></textarea>
    </div>

    <!-- Trabajos realizados -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Trabajos realizados para la solución</label>
      <textarea formControlName="trabajosRealizados" rows="5"
                placeholder="Describe las actuaciones realizadas..."
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></textarea>
    </div>

    <!-- Botón -->
    <div class="text-center">
      <button type="submit"
              [disabled]="parteForm.invalid"
              class="inline-flex justify-center py-3 px-8 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed">
        Guardar Parte
      </button>
    </div>
  </form>
</div>